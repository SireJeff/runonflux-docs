# 3. Platform Key Configuration

After completing the OS install, you must enroll the **Platform Key (PK)** into your UEFI firmware. This enables Secure Boot and allows Arcaneâ€¯OS to advance to phaseâ€¯2 of its setup.

> ğŸ›¡ï¸ **Oneâ€‘time step per machine:** If youâ€™ve already enrolled the PK here, you can skip this on future reinstalls.

***

### Configuration Overview

| Phase                  | Description                                                                  |
| ---------------------- | ---------------------------------------------------------------------------- |
| **Reboot to Firmware** | Boot into your systemâ€™s UEFI or OVMF menu.                                   |
| **Enroll PK**          | Navigate Firmware > Secure Boot > Enroll PK Using File.                      |
| **Select Key File**    | Locate and import `pk.der` from the Arcaneâ€¯OS boot partition.                |
| **Commit & Continue**  | Save changes, exit firmware, and confirm Secure Boot is active on next boot. |

***

### Detailed Step-by-Step

#### 1. Reboot into Firmware

* After the installer reboots, press **Enter** at the splash screen (or let it timeout).
* You should drop into the **UEFI firmware menu** (or OVMF console for VMs).
* âš ï¸ Firmware UIs vary by vendorâ€”consult your motherboard or hypervisor docs if needed.

#### 2. Open Secure Boot Settings

* Use the arrow keys to navigate to **â€œDevice Managerâ€** or **â€œSecurityâ€** menus.
* Select **â€œSecure Boot Configurationâ€**.

<img src="/.gitbook/assets/image (74).png" alt=""/>

<img src="/.gitbook/assets/image (75).png" alt=""/>

#### 3. Set Boot Mode to Custom

* Highlight **â€œSecure Boot Modeâ€**, press **Enter**, and choose **â€œCustom Modeâ€**.

<img src="/.gitbook/assets/Secure Boot Mode.png" alt=""/>

#### 4. Access PK Enrollment

* Under **Custom Secure Boot Option**, press **Enter**.
* Choose **â€œPK Optionsâ€**, then **â€œEnroll PKâ€**.

<img src="/.gitbook/assets/image (76).png" alt=""/>

<img src="/.gitbook/assets/image (77).png" alt=""/>

#### 5. Choose Enrollment Method

* Select **â€œEnroll PK Using Fileâ€**.

<img src="/.gitbook/assets/Enroll PK Using File.png" alt=""/>

#### 6. Locate the PK File

After choosing **Enroll PK Using File**, you'll be prompted to navigate the filesystem to locate the key file.

> ğŸ—‚ï¸ The ArcaneOS installer automatically places all necessary public keys on the **boot partition**.

1. **Navigate to the `boot` Partition**

<img src="/.gitbook/assets/Select Boot.png" alt=""/>

2. **Open the `loader` Directory**

<img src="/.gitbook/assets/Select Loader.png" alt=""/>

3. **Open the `keys` Folder**

<img src="/.gitbook/assets/Select Keys.png" alt=""/>

4. **Open the `fluxOS` Folder**

<img src="/.gitbook/assets/Select FluxOS.png" alt=""/>

5. **Select the Key File: `pk.der`**

<img src="/.gitbook/assets/select pk.der.png" alt=""/>

* Highlight `pk.der` and press **Enter** to import.
* ğŸ” OVMF accepts `.der`; some physical boards may require `.auth`.

#### 6. Commit Changes & Exit

* Select **â€œCommit Changes and Exitâ€** (or equivalent).
* Press **Esc** three times to return to the main firmware screen.
* Choose **â€œContinueâ€** to boot.

<img src="/.gitbook/assets/image (78).png" alt=""/>

<img src="/.gitbook/assets/image (79).png" alt=""/>

#### 7. Verify Secure Bott

* At the next boot, you should see a confirmation that **Secure Boot is enabled**.
* The system will load Arcaneâ€¯OS and confirms that your ArcaneOS installation is securely verified and ready for node configuration.

<img src="/.gitbook/assets/Enable PK.png" alt="Enable PK"/>

<img src="/.gitbook/assets/Enable PK 2.png" alt="Enable PK 2"/>

***

### Tips & Troubleshooting

* **Unable to Enter Custom Mode?**\
  Ensure **â€œPreâ€‘Enroll Keysâ€** was disabled during VM creation or on your motherboardâ€™s setup.
* **PK File Not Found?**\
  Confirm you completed the OS install and that the installer placed keys under `/boot/loader/keys/fluxOS/`.
* **Firmware Locked Out?**\
  Some vendors hide Secure Boot settings. Look for â€œOS Typeâ€ or â€œPlatform Keyâ€ entriesâ€”selecting â€œWindowsâ€ often exposes custom options.
