# 2. OS Installation

Complete these steps to install Arcane OS inside your VM or on bare‑metal.

***

### Installation Overview

| Phase                    | Description                                                                                   |
| ------------------------ | --------------------------------------------------------------------------------------------- |
| **Boot Installer**       | Power on the VM or machine and select the Arcane OS installer from the UEFI boot menu.        |
| **Setup Screens**        | Configure keyboard, hostname, console user, network, and UPnP ports via the graphical wizard. |
| **Storage & Encryption** | Select disk(s) and confirm secure‑LVM layout.                                                 |
| **Install & Reboot**     | Watch the progress bar, then reboot and enroll the Secure Boot Platform Key (PK) if needed.   |

***

### Detailed Step-by-Step

#### 1. Start the Installer

* Power on the VM or bare‑metal host.
* At the UEFI boot menu, hit **Enter** (or wait 30 seconds).

#### 2. Welcome Screen

* A splash screen appears, then the Arcane OS welcome interface.
* ✅ If UEFI & TPM 2.0 are detected, the setup screen loads.
* ❌ If not, you’ll see a “Missing TPM/UEFI” error and the installer will halt—power off, correct the hardware, then retry.

<img src="/.gitbook/assets/Welcome Screen.png" alt="Welcome Screen"/>

<img src="/.gitbook/assets/Welcome Screen 2.png" alt="Welcome Screen 2"/>

#### 3. Select Keyboard Layout

* Choose your **Layout** (e.g. US, UK) and **Variant**.
* Click **Next**.

<img src="/.gitbook/assets/keyboard layout.png" alt=""/>

#### 4. Hostname Setup

* Enter a hostname (e.g. `FluxNode-Cumulus-01`).
  * This can be helpful for system notifications and managing multiple nodes.
* Click **Next**.

<img src="/.gitbook/assets/Hostname.png" alt=""/>

#### 5. Console User Password

* ArcaneOS uses strict Role-Based Access Control (RBAC). You’ll now configure the only console-accessible user:
* The console user is pre‑defined as **`console`**.
* Set a **strong password** for console access.
* Click **Next**.

<img src="/.gitbook/assets/Console User PW.png" alt=""/>

#### 6. Network Configuration

* A list of interfaces appears—select the one to configure.
* Optionally set a **static IP** or leave as DHCP.
* Click **Next**

<img src="/.gitbook/assets/Network Config.png" alt=""/>

#### 7. UPnP Port Selection

* Arcane OS scans your LAN for active FluxNode ports.
* Greyed‑out ports are already in use (e.g. 16167, 16177).
* Click an **available port** (e.g. 16157).

<img src="/.gitbook/assets/Network Config 2.png" alt="Network Config 2"/>

<img src="/.gitbook/assets/Network Config 3.png" alt="Network Config 3"/>

#### Optional: Reserve or Override

* **Reserve:** Click **Reserve** to map the port on your router for 1 hour.
* **Override:** If you’re certain a greyed‑out port is free, toggle **Override** to force‑select it.
* Click **Next**.

<img src="/.gitbook/assets/Network Config 4.png" alt=""/>

#### Summary

* Review your selections in the summary screen.
* Click **Confirm** to proceed to storage.

<img src="/.gitbook/assets/Network Config 5.png" alt=""/>

#### 8. Storage Configuration

* ArcaneOS uses a **secure and encrypted LVM setup** for all disks:
* Select one or more disks to form an **encrypted LVM** volume.
* Click **Next**.
* Confirm the disk list in the overlay, then click **Confirm** to start.

<img src="/.gitbook/assets/Storage Config.png" alt="Storage Config"/>

<img src="/.gitbook/assets/Storage Config 2.png" alt="Storage Config 2"/>

#### 9. Installation Progress

* The installer copies files and configures LVM/encryption.
* Wait a few minutes.
* When complete, click **Reboot**.

<img src="/.gitbook/assets/Storage Config 3.png" alt=""/>

#### 10. Enroll Secure Boot Key (Platform Key / PK)

* On first install, after reboot open your **UEFI settings**.
* Import the Flux **Platform Key (PK)** for Secure Boot.
* If you’ve done this previously, you can skip.

> ⚠️ Skipping on a fresh install will cause a later validation failure.

<img src="/.gitbook/assets/Finish OS Install.png" alt=""/>

***

### Tips & Troubleshooting

* **Missing Features Error:** Ensure **Pre‑Enroll Keys** was disabled and **TPM 2.0** enabled in your VM’s System settings.
* **Port Collision:** If you can’t find an open port, shut down other nodes or choose a high-numbered port.
* **UEFI Warnings:** Always import the PK on first boot to avoid future boot‑lock during node validation.

